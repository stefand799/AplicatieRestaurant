<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:AppRestaurant.ViewModels.Screens"
             mc:Ignorable="d"
             x:Class="AppRestaurant.Views.Screens.EmployeeScreen"
             d:DesignWidth="800" d:DesignHeight="450"
             x:DataType="vm:EmployeeViewModel">

  <Grid>
    <!-- Main navigation bar -->
    <Border Background="#3366CC" Height="50" VerticalAlignment="Top">
      <ToggleButton Name="NavToggleButton"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"
                    Background="Transparent"
                    BorderThickness="0">
        <StackPanel Orientation="Horizontal"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center">
          <TextBlock Text="Employee Dashboard"
                     FontSize="20"
                     FontWeight="Bold"
                     Foreground="White"
                     Margin="0,0,10,0"/>
          <Path Data="M 0,0 L 10,10 L 20,0"
                Stroke="White"
                StrokeThickness="2"
                VerticalAlignment="Center"/>
        </StackPanel>
      </ToggleButton>
    </Border>

    <!-- Dropdown menu -->
    <Popup IsOpen="{Binding ElementName=NavToggleButton, Path=IsChecked}"
           PlacementMode="Bottom"
           PlacementTarget="{Binding ElementName=NavToggleButton}"
           Width="{Binding ElementName=NavToggleButton, Path=Bounds.Width}">
      <Border Background="White"
              BorderBrush="LightGray"
              BorderThickness="1"
              BoxShadow="0 4 8 0 #20000000"
              Width="{Binding ElementName=NavToggleButton, Path=Bounds.Width}">
        <StackPanel Margin="10">
          <!-- Menu Management -->
          <TextBlock Text="Menu Management" FontWeight="Bold" Margin="0,5"/>
          <Button Content="Categories" Command="{Binding ShowCategoriesPageCommand}" Margin="0,5"/>
          <Button Content="Preparations/Dishes" Command="{Binding ShowDishesPageCommand}" Margin="0,5"/>
          <Button Content="Menus" Command="{Binding ShowMealsPageCommand}" Margin="0,5"/>
          <Button Content="Allergens" Command="{Binding ShowAllergensPageCommand}" Margin="0,5"/>
          <Separator Margin="0,5"/>

          <!-- Order Management -->
          <TextBlock Text="Order Management" FontWeight="Bold" Margin="0,5"/>
          <Button Content="All Orders" Command="{Binding ShowAllOrdersPageCommand}" Margin="0,5"/>
          <Button Content="Active Orders" Command="{Binding ShowActiveOrdersPageCommand}" Margin="0,5"/>
          <Separator Margin="0,5"/>

          <!-- Inventory Management -->
          <TextBlock Text="Inventory Management" FontWeight="Bold" Margin="0,5"/>
          <Button Content="Low Stock Items" Command="{Binding ShowLowStockPageCommand}" Margin="0,5"/>
          <Separator Margin="0,5"/>

          <!-- Logout -->
          <Button Content="Logout" Command="{Binding LogOutCommand}" Margin="0,5" Foreground="Red"/>
        </StackPanel>
      </Border>
    </Popup>

    <!-- Content area, below navbar -->
    <ContentControl Margin="0,50,0,0"
                    Content="{Binding PagesNav.CurrentViewModel}"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"/>
  </Grid>
</UserControl>
